# 『City of Lyric』
## 「City of Lyric」について
### 説明文
「City of Lyric」は、音楽の世界をビジュアルで楽しむためのアプリです。
このアプリの特徴的な機能により、歌詞が発話タイミングで街からゆっくりと浮かび上がり、あなたのスクリーンに現れます。

### 主な特徴
- **歌詞の浮かび上がり：** 音楽に合わせて、街の中から歌詞がゆっくりと出現します。まるで歌詞が街の一部であるかのように感じられます。
- **インタラクティブな歌詞：** 出現した歌詞をクリックすると、歌詞が砂となって消えていきます。このインタラクティブな要素により、歌詞と直接対話するような感覚を楽しむことができます。
- **星空のひび割れ：** 一定の数の歌詞が砂になると、星空にひびが入ります。特に、楽曲のサビ情報を利用して、楽曲のタイミングに合わせてひびが入るようになっています。ユーザーの操作と音楽の流れがシンクロする美しいビジュアルを楽しんでください。
- **青空の出現：** ひび割れが一定以上になると、最後には美しい青空が出現します。この変化は、あなたの操作によって生まれる新たな風景です。
- **魔法陣の色変化：** 歌詞をクリックせずに上空に行かせると、空にある魔法陣の色が変わっていきます。歌詞をクリックして空の変化を楽しむか、そのままにして魔法陣の色変化を楽しむかを選択することができます。
- **世界観の演出：** 採用楽曲である「The Marks」に合わせて世界観を演出しています。裏側では、歌詞をクリックした数などの複数のスコアを持っていますが、あえて画面には出していません。楽曲の雰囲気を大事にしたかったため、UIは楽曲全体のシークバーと再生・ストップボタンだけにしました。

### 技術的な特徴
- **動的なカメラ操作：** 空と街と歌詞を映しているカメラを一定の範囲内で動かすことができます。これにより、ユーザーは自由に視点を変更しながら、異なる角度からアプリの世界を楽しむことができます。
- **視認性を考慮した歌詞の配置：** 歌詞が出現する際には、カメラに対して見やすい角度で歌詞を表示します。これにより、常に最適な視認性が確保されます。
- **視界内の歌詞制御：** ユーザーがどの方向を向いていても、歌詞が常にカメラで映っている範囲内に表示されるように制御されています。これにより、ユーザーはどの視点からでも歌詞を見逃すことなく楽しむことができます。

### 遊び方
- **PCでのプレイ：** 「City of Lyric」はPC環境でのプレイを前提としています。
- **マウス操作：** 画面上に浮かんでいる歌詞をマウスでクリックして砂にしてください。
- **移動：** 十字キーを使ってキャラクターを移動させることができます。
- **カメラの角度変更：** マウスの左クリックを押しながら移動することで、カメラの角度を自由に変更できます。


### Webページ
- GitHub Pagesにて実際に試すことが可能です。
  - https://hueno-ttic.github.io/mmprocon2024/
  - privateリポジトリなのでアクセスに制限があります。

### 動作説明動画
https://youtu.be/Ten-F-f1FLY

※ 動画撮影の都合上、動画と実際のアプリの動作に差異がある可能性があります。実際の動作を確認する場合は上記のGitHub Pagesにて動作確認をしていただけると幸いです。

### APIやフレームワークの特徴
- TextAliveAppAPIから取得した楽曲データを使用
  - 歌詞情報を取得してライブ演出に合わせて表示
  - サビ情報を取得して演出を変化させる
  - 品詞情報を使って歌詞の区切りを制御
- デスクトップ・モバイルブラウザ向けに作られたHTML5/WebGLゲームエンジンのPlayCanvasを使用


### 対応楽曲
- The Marks

### 対応環境
- PC Chrome
※ ある程度スペックの高い端末を使ったほうがスムーズに動作します。

### 注意事項
- スマートフォン・タブレットで遊ぶ場合は本体を横向きにしてください
- スマートフォンのブラウザでURLバーが出てしまう場合は、各スマホに応じてURLバーを非表示にしたほうが見やすくなります
- 動作が不安定になった際にはページの再読み込みをしてください

### ゲームエンジン
- PlayCanvas
  - https://playcanvas.jp/
